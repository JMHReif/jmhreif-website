<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Spring Data Neo4j: How to update an entity, Part 2 | Jennifer Reif</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Photo credit After working on a new online Spring Data Neo4j course, I learned a couple more things about updating an entity. The course required a different set of scenarios than outlined in my previous SDN update blog post, so I wanted to cover those scenarios, as well.
Spring save() method First up is the out-of-the-box save() method that is provided by Spring as a default. This method takes an input of the entity object you want to save to the database."><meta name=generator content="Hugo 0.119.0"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><link rel=canonical href=https://jmhreif.com/blog/2025/sdn-update-methods/><meta property="og:title" content="Spring Data Neo4j: How to update an entity, Part 2"><meta property="og:description" content="Photo credit After working on a new online Spring Data Neo4j course, I learned a couple more things about updating an entity. The course required a different set of scenarios than outlined in my previous SDN update blog post, so I wanted to cover those scenarios, as well.
Spring save() method First up is the out-of-the-box save() method that is provided by Spring as a default. This method takes an input of the entity object you want to save to the database."><meta property="og:type" content="article"><meta property="og:url" content="https://jmhreif.com/blog/2025/sdn-update-methods/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2025-01-17T09:00:00-06:00"><meta property="article:modified_time" content="2025-01-17T09:00:00-06:00"><meta itemprop=name content="Spring Data Neo4j: How to update an entity, Part 2"><meta itemprop=description content="Photo credit After working on a new online Spring Data Neo4j course, I learned a couple more things about updating an entity. The course required a different set of scenarios than outlined in my previous SDN update blog post, so I wanted to cover those scenarios, as well.
Spring save() method First up is the out-of-the-box save() method that is provided by Spring as a default. This method takes an input of the entity object you want to save to the database."><meta itemprop=datePublished content="2025-01-17T09:00:00-06:00"><meta itemprop=dateModified content="2025-01-17T09:00:00-06:00"><meta itemprop=wordCount content="1883"><meta itemprop=keywords content="neo4j,spring,update,application,development,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Spring Data Neo4j: How to update an entity, Part 2"><meta name=twitter:description content="Photo credit After working on a new online Spring Data Neo4j course, I learned a couple more things about updating an entity. The course required a different set of scenarios than outlined in my previous SDN update blog post, so I wanted to cover those scenarios, as well.
Spring save() method First up is the out-of-the-box save() method that is provided by Spring as a default. This method takes an input of the entity object you want to save to the database."></head><body class="ma0 avenir bg-near-white"><header class="cover bg-top" style=background-image:url(https://jmhreif.com/img/unsplash-sdn-update-entity.jpg)><div class=bg-black-60><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Jennifer Reif</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/ title="Home page">Home</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/about/ title="About page">About</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/blog/ title="Blog page">Blog</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/abstracts/ title="Abstracts page">Abstracts</a></li></ul><div class=ananke-socials><a href=https://twitter.com/JMHReif target=_blank rel=noopener class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" aria-label="follow on Twitter——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://github.com/JMHReif target=_blank rel=noopener class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" aria-label="follow on GitHub——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://www.linkedin.com/in/jmhreif/ target=_blank rel=noopener class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" aria-label="follow on LinkedIn——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://jmhreif.com/index.xml target=_blank rel=noopener class="rss ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="RSS link" aria-label="follow on RSS——Opens in a new window"><span class=icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path id="scale" d="M4 4.44v2.83c7.03.0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9.0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://jmhreif.podbean.com/ target=_blank rel=noopener class="podcast ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="podcast link" aria-label="follow on podcast——Opens in a new window"><span class=icon><svg width="1200pt" height="1200pt" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg"><path d="m6e2 62.484c-296.48.0-537.52 241.03-537.52 537.52s240.98 537.52 537.52 537.52c296.48.0 537.52-240.98 537.52-537.52.0-296.48-241.03-537.52-537.52-537.52zm-155.02 305.02c0-85.5 69.516-155.02 155.02-155.02S755.02 282 755.02 367.504v234.98c0 85.5-69.516 155.02-155.02 155.02s-155.02-69.516-155.02-155.02zm192.52 516.52v66c0 20.484-17.016 37.5-37.5 37.5s-37.5-17.016-37.5-37.5v-66C408 865.508 288 734.024 288 574.504c0-20.484 17.016-37.5 37.5-37.5s37.5 17.016 37.5 37.5c0 130.5 106.5 237 237 237s237-106.5 237-237c0-20.484 17.016-37.5 37.5-37.5s37.5 17.016 37.5 37.5c0 159.52-120 291-274.5 309.52z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a></div></div></div></nav><div class="tc-l pv6 ph3 ph4-ns"></div></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked ttu">Blog</aside><div id=sharing class="mt3 ananke-socials"><a href="https://twitter.com/intent/tweet?url=https://jmhreif.com/blog/2025/sdn-update-methods/&amp;text=Spring%20Data%20Neo4j:%20How%20to%20update%20an%20entity,%20Part%202" class="ananke-social-link twitter no-underline" aria-label="share on Twitter"><span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://jmhreif.com/blog/2025/sdn-update-methods/&amp;title=Spring%20Data%20Neo4j:%20How%20to%20update%20an%20entity,%20Part%202" class="ananke-social-link linkedin no-underline" aria-label="share on LinkedIn"><span class=icon><svg style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a></div><h1 class="f1 athelas mt3 mb1">Spring Data Neo4j: How to update an entity, Part 2</h1><time class="f6 mv4 dib tracked" datetime=2025-01-17T09:00:00-06:00>January 17, 2025</time>
<span class="f6 mv4 dib tracked">- 9 minutes read</span>
<span class="f6 mv4 dib tracked">- 1883 words</span></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><div class=paragraph><small><i><a href="https://unsplash.com/photos/a-phone-with-a-stethoscope-on-top-of-it-l8uCymHXI-g?utm_content=creditShareLink&amp;utm_medium=referral&amp;utm_source=unsplash">Photo credit</a></i></small></div><div class=paragraph><p>After working on a new <a href=https://graphacademy.neo4j.com/courses/app-spring-data/ target=_blank rel=noopener>online Spring Data Neo4j course</a>, I learned a couple more things about updating an entity. The course required a different set of scenarios than outlined in my <a href=https://jmhreif.com/blog/2023/sdn-cypher-update-entity/ target=_blank rel=noopener>previous SDN update blog post</a>, so I wanted to cover those scenarios, as well.</p></div><div class=sect1><h2 id=_spring_save_method>Spring save() method</h2><div class=sectionbody><div class=paragraph><p>First up is the out-of-the-box <code>save()</code> method that is provided by Spring as a default. This method takes an input of the entity object you want to save to the database.</p></div><div class=paragraph><p>Here is an example of what this looks like with a popular movie data set as the model.</p></div><div class=listingblock><div class=title>Movie domain class:</div><div class=content><pre class=highlight><code class=language-java data-lang=java>@Node
public class Movie {
    @Id
    private String movieId;

    private String title;
    private String plot;
    private String poster;
    private String url;
    private String released;
    private Long imdbVotes;

    @Relationship(value = &#34;ACTED_IN&#34;, direction = Relationship.Direction.INCOMING)
    private List&lt;Role&gt; actors;
}</code></pre></div></div><div class=listingblock><div class=title>Movie controller class:</div><div class=content><pre class=highlight><code class=language-java data-lang=java>@RestController
@RequestMapping(&#34;/movies&#34;)
public class MovieController {
    //inject repository + constructor

    @PostMapping(&#34;/save&#34;)
    Movie save(@RequestBody Movie movie) {
        return movieRepo.save(movie);
    }
}</code></pre></div></div><div class=paragraph><p>This works well to save a new movie, as you can provide a subset of properties or all properties, as long as the <code>id</code> is present, and anything you don’t provide will be set to <code>null</code>. However, the issue arises when you need to update an existing entity because it means any attributes you do not provide will be <em>overwritten</em> to <code>null</code>.</p></div><div class=paragraph><p>To better understand how this works, let’s see it in action by saving a movie, and then trying to update it.</p></div><div class=listingblock><div class=title>Movie request object:</div><div class=content><pre class=highlight><code class=language-json data-lang=json>{
  &#34;movieId&#34;: &#34;9876&#34;,
  &#34;title&#34;: &#34;MyMovie&#34;
}</code></pre></div></div><div class=listingblock><div class=title>Save Movie object:</div><div class=content><pre class=highlight><code class=language-shell data-lang=shell>% http &#34;:8080/movies/save&#34; @src/main/resources/movie.json
{
    &#34;actors&#34;: null,
    &#34;imdbId&#34;: null,
    &#34;imdbVotes&#34;: null,
    &#34;movieId&#34;: &#34;9876&#34;,
    &#34;plot&#34;: null,
    &#34;poster&#34;: null,
    &#34;title&#34;: &#34;MyMovie&#34;,
    &#34;url&#34;: null,
    &#34;year&#34;: null
}</code></pre></div></div><div class=paragraph><p>Now let’s use the same method to try to update the movie with a <code>year</code> property.</p></div><div class=listingblock><div class=title>MovieUpdated object:</div><div class=content><pre class=highlight><code class=language-json data-lang=json>{
  &#34;movieId&#34;: &#34;9876&#34;,
  &#34;year&#34;: 2018
}</code></pre></div></div><div class=listingblock><div class=title>Save updated Movie object:</div><div class=content><pre class=highlight><code class=language-shell data-lang=shell>% http &#34;:8080/movies/save&#34; @src/main/resources/movieUpdated.json
{
    &#34;actors&#34;: null,
    &#34;imdbId&#34;: null,
    &#34;imdbVotes&#34;: null,
    &#34;movieId&#34;: &#34;9876&#34;,
    &#34;plot&#34;: null,
    &#34;poster&#34;: null,
    &#34;title&#34;: null,
    &#34;url&#34;: null,
    &#34;year&#34;: 2018
}</code></pre></div></div><div class=paragraph><p>In the output above, you can see that the <code>title</code> property is <code>null</code>, and the <code>year</code> property is populated. This is because the title is not specified in the updated JSON object, so it is overwritten to <code>null</code>.</p></div><div class=paragraph><p>This may not be too big of an effort if you have only a few attributes in your domain class, although I would still find it frustrating to include all properties for only updating one or two properties. In that case, I would need to resort to the <a href=https://jmhreif.com/blog/2023/sdn-cypher-update-entity/ target=_blank rel=noopener>POJO method outlined in my previous SDN update blog post</a> where you pull the database entity, set each property, and then save the entity. The added business logic seems like an unnecessary maintenance headache.</p></div><div class=paragraph><p>What if you wanted to preserve what was already there without providing all the properties defined in the domain class to the request? In these scenarios, there are a couple of other options at your disposal, though neither allow dynamic updates to random properties per request.</p></div></div></div><div class=sect1><h2 id=_patch_year>Patch Year</h2><div class=sectionbody><div class=paragraph><p>The first option is that you don’t have to set all properties if you use a PATCH method and only set the values you want to update. Here is an example.</p></div><div class=listingblock><div class=title>Movie controller class:</div><div class=content><pre class=highlight><code class=language-java data-lang=java>@RestController
@RequestMapping(&#34;/movies&#34;)
public class MovieController {
    //inject repository + constructor

    @PatchMapping(&#34;/patchYear&#34;)
    Movie patchYear(@RequestBody Movie moviePatch) {
        Movie existingMovie = movieRepository.findById(moviePatch.getMovieId()).get();
        existingMovie.setYear(moviePatch.getYear());

        return movieRepository.save(existingMovie);
    }
}</code></pre></div></div><div class=listingblock><div class=title>PatchYear object:</div><div class=content><pre class=highlight><code class=language-json data-lang=json>{
  &#34;movieId&#34;: &#34;9876&#34;,
  &#34;year&#34;: 2024
}</code></pre></div></div><div class=listingblock><div class=title>Patch movie year:</div><div class=content><pre class=highlight><code class=language-shell data-lang=shell>% http PATCH &#34;:8080/movies/patchYear&#34; @src/main/resources/moviePatch.json

{
    &#34;budget&#34;: null,
    &#34;countries&#34;: null,
    &#34;imdbId&#34;: null,
    &#34;imdbRating&#34;: null,
    &#34;imdbVotes&#34;: null,
    &#34;languages&#34;: null,
    &#34;movieId&#34;: &#34;9876&#34;,
    &#34;plot&#34;: null,
    &#34;poster&#34;: null,
    &#34;released&#34;: null,
    &#34;revenue&#34;: null,
    &#34;runtime&#34;: null,
    &#34;title&#34;: &#34;MyMovie&#34;,
    &#34;tmdbId&#34;: null,
    &#34;url&#34;: null,
    &#34;year&#34;: 2024
}</code></pre></div></div><div class=paragraph><p>This allows you to set specific values without overwriting other property values to <code>null</code>. You also don’t need to set all the values in the movie object programmatically. If you modified the initial <code>save()</code> method to just include the <code>setYear()</code> line, it would still overwrite other values. This approach prevents that, although you still have to call <code>setProperty()</code> for each field you want to update.</p></div><div class=paragraph><p><strong>Note:</strong> For this approach to work, your domain entity must be a class (not a record) because records are immutable, which means you cannot change (or set/update) fields on the entity instance. For immutable objects, you have to create a new instance of the object and copy property values to the new object before saving.</p></div><div class=paragraph><p>You can avoid setting each property on an object and retain existing values with a couple of options covered next.</p></div></div></div><div class=sect1><h2 id=_custom_cypher>Custom Cypher</h2><div class=sectionbody><div class=paragraph><p>One of the more flexible options is to use <a href=https://docs.spring.io/spring-data/neo4j/reference/appendix/custom-queries.html target=_blank rel=noopener>custom Cypher</a>. For this, you would write a Cypher statement that sets the new values to the properties you want to update. You can even add/set properties that do not exist on the application’s domain class. The negative is that you would need to make changes to the application (Cypher statement) if you wanted to update different properties, so it is not fully dynamic.</p></div><div class=paragraph><p>The example below uses the same movie domain but adds a Cypher statement and method to the repository interface to update the <code>year</code> property without overwriting the <code>title</code>.</p></div><div class=listingblock><div class=title>Repository interface:</div><div class=content><pre class=highlight><code class=language-java data-lang=java>interface MovieRepository extends Neo4jRepository&lt;Movie, String&gt; {
    @Query(&#34;MATCH (m:Movie {movieId: $movieId}) &#34; +
            &#34;SET m.year = toInteger($year) &#34; +
            &#34;RETURN m;&#34;)
    Movie updateYear(String movieId, Long year);
}</code></pre></div></div><div class=listingblock><div class=title>Movie controller class:</div><div class=content><pre class=highlight><code class=language-java data-lang=java>@RestController
@RequestMapping(&#34;/movies&#34;)
public class MovieController {
    //inject repository + constructor

    @PatchMapping(&#34;/updateYear&#34;)
    Movie patchYear(@RequestParam String movieId, @RequestParam Long year) {
        return movieRepository.updateYear(movieId, year);
    }
}</code></pre></div></div><div class=paragraph><p>Then, the following request calls the method and updates the movie’s year property.</p></div><div class=listingblock><div class=title>Update movie year:</div><div class=content><pre class=highlight><code class=language-shell data-lang=shell>% http PATCH &#34;:8080/movies/updateYear?movieId=9876&amp;year=2018&#34;

{
    &#34;actors&#34;: [],
    &#34;imdbId&#34;: null,
    &#34;imdbVotes&#34;: null,
    &#34;movieId&#34;: &#34;9876&#34;,
    &#34;plot&#34;: null,
    &#34;poster&#34;: null,
    &#34;title&#34;: &#34;MyMovie&#34;,
    &#34;url&#34;: null,
    &#34;year&#34;: 2018
}</code></pre></div></div><div class=paragraph><p>It worked! The movie’s title remained the same (not overwritten to <code>null</code>), and a value was saved for the <code>year</code> property.</p></div><div class=paragraph><p>This ad hoc Cypher approach could work well when values or property updates occur somewhat frequently, as updating the Cypher statement makes updates flexible. You could also make the incoming property generic (<code>value</code>) and pass in any value (or multiple values) and set whichever properties you’d like by changing the Cypher. While still not completely dynamic, this option is probably the most flexible and dynamic of the list.</p></div><div class=paragraph><p>A custom Cypher approach might work well when you need to update certain properties, but if you have a subset of properties that operate together, another option is to create a projection of the domain class.</p></div></div></div><div class=sect1><h2 id=_projections>Projections</h2><div class=sectionbody><div class=paragraph><p>To provide a consistent set of values for update and leave other properties as-is, <a href=https://docs.spring.io/spring-data/neo4j/reference/projections/sdn-projections.html target=_blank rel=noopener>projections</a> are probably the nicest option I’ve found so far. This approach still requires setting consistent properties (like with custom Cypher), but avoids overwriting consistent values by creating a "view" of the larger entity, only working with those values and leaving other field values alone.</p></div><div class=paragraph><p><strong>Note:</strong> There are two types of projections - interface and DTO. Interface projections are immutable, which means you cannot update values, but have to create a new object and copy existing values over. DTO objects, then, are more straightforward when dealing with update operations. For this reason, the examples use DTO-based projections.</p></div><div class=paragraph><p>There are two different ways to <a href=https://docs.spring.io/spring-data/neo4j/reference/projections/sdn-projections.html#projections.sdn.persistence target=_blank rel=noopener>save a projection</a> - 1. send the projection (subset of properties) and save into the full domain entity, 2. send a full domain object but only save the projection fields. Really, the difference is the incoming request object, whether you have a smaller set or larger set and only want to save those values.</p></div><div class=paragraph><p>Let’s see how this operates.</p></div><div class=sect2><h3 id=_projection_as_movie>Projection as Movie</h3><div class=paragraph><p>The first example sends a projection object (subset of the full domain object’s properties) and saves the trimmed object as the full movie entity. We have defined a projection that only includes the <code>movieId</code> and <code>plot</code> properties of a movie.</p></div><div class=listingblock><div class=title>MovieDTOProjection class:</div><div class=content><pre class=highlight><code class=language-java data-lang=java>public class MovieDTOProjection {
    private String movieId;
    private String plot;

    public String getMovieId() { return movieId; }

    public String getPlot() {
        return plot;
    }

    public void setPlot(String plot) {
        this.plot = plot;
    }
}</code></pre></div></div><div class=listingblock><div class=title>MovieController class method:</div><div class=content><pre class=highlight><code class=language-java data-lang=java>@RestController
@RequestMapping(&#34;/movies&#34;)
public class MovieController {
    //inject repository + constructor

    //Only updates properties in projection
    @PatchMapping(&#34;/projectionAsMovie&#34;)
    MovieDTOProjection saveProjectionAsMovie(@RequestBody MovieDTOProjection movieDTO) {
        return neo4jTemplate.save(Movie.class).one(movieDTO);
    }
}</code></pre></div></div><div class=listingblock><div class=title>ProjectionAsMovie object (request object):</div><div class=content><pre class=highlight><code class=language-json data-lang=json>{
  &#34;movieId&#34;: &#34;9876&#34;,
  &#34;plot&#34;: &#34;Here is the plot.&#34;
}</code></pre></div></div><div class=listingblock><div class=title>Update Movie with a projection object:</div><div class=content><pre class=highlight><code class=language-shell data-lang=shell>% http PATCH &#34;:8080/movies/projectionAsMovie&#34; @src/main/resources/projectionAsMovie.json

{
    &#34;movieId&#34;: &#34;9876&#34;,
    &#34;plot&#34;: &#34;Here is the plot.&#34;
}</code></pre></div></div><div class=listingblock><div class=title>Full database entity:</div><div class=content><pre class=highlight><code class=language-json data-lang=json>{
    &#34;plot&#34;: &#34;Here is the plot.&#34;,
    &#34;year&#34;: 2024,
    &#34;movieId&#34;: &#34;9876&#34;,
    &#34;title&#34;: &#34;MyMovie&#34;
}</code></pre></div></div><div class=paragraph><p>The request successfully updated the entity with the new plot value ("Here is the plot.") without overwriting the title or year properties on the existing entity! The method in the controller class takes the projection object input and saves it as a <code>Movie</code> class entity.</p></div><div class=paragraph><p>This approach is helpful when you only want to send certain properties over the wire and not the full object. You can set any fields you wish to update in the projection and only send those values in the request.</p></div></div><div class=sect2><h3 id=_movie_entity_as_projection>Movie entity as projection</h3><div class=paragraph><p>This type of projection only saves a defined subset of properties out of a potentially larger or variable object. The save will only update the fields included in the projection and ignore anything else that might be in the request object.</p></div><div class=paragraph><p>The example below uses the same <a href=https://github.com/JMHReif/sdn-update-entity-round2/blob/main/src/main/java/com/jmhreif/sdn_update_entity_round2/MovieDTOProjection.java target=_blank rel=noopener><code>MovieDTOProjection</code> class</a> as the above example. Then, we only need a new method in the controller to save the projection.</p></div><div class=listingblock><div class=title>MovieController class method:</div><div class=content><pre class=highlight><code class=language-java data-lang=java>@RestController
@RequestMapping(&#34;/movies&#34;)
public class MovieController {
    //inject repository + constructor

    //Only updates properties in projection (ignores other values)
    @PatchMapping(&#34;/movieAsProjection&#34;)
    MovieDTOProjection saveMovieAsProjection(@RequestBody Movie movie) {
        return neo4jTemplate.saveAs(movie, MovieDTOProjection.class);
    }
}</code></pre></div></div><div class=listingblock><div class=title>MovieAsProjection object:</div><div class=content><pre class=highlight><code class=language-json data-lang=json>{
  &#34;movieId&#34;: &#34;9876&#34;,
  &#34;title&#34;: &#34;TestTitle&#34;,
  &#34;plot&#34;: &#34;Some plot cliche here.&#34;,
  &#34;year&#34;: 2025
}</code></pre></div></div><div class=listingblock><div class=title>Send Movie object (only save projection values):</div><div class=content><pre class=highlight><code class=language-shell data-lang=shell>% http PATCH &#34;:8080/movies/movieAsProjection&#34; @src/main/resources/movieAsProjection.json

{
    &#34;movieId&#34;: &#34;9876&#34;,
    &#34;plot&#34;: &#34;Some plot cliche here.&#34;
}</code></pre></div></div><div class=listingblock><div class=title>Full database entity:</div><div class=content><pre class=highlight><code class=language-json data-lang=json>{
    &#34;plot&#34;: &#34;Some plot cliche here.&#34;,
    &#34;year&#34;: 2024,
    &#34;movieId&#34;: &#34;9876&#34;,
    &#34;title&#34;: &#34;MyMovie&#34;
}</code></pre></div></div><div class=paragraph><p>This also worked! The controller method accepts a <code>Movie</code> request object as input and saves it as the projection entity, which only retains the subset of values defined in the projection and ignores the rest.</p></div><div class=paragraph><p>This approach would be helpful if you have request objects with varying fields of a <code>Movie</code> entity, but only want to update a certain subset each time. In terms of the incoming request object, this option seems to be the most flexible in allowing you to provide all kinds of fields as input, and it will only save the relevant ones defined in the projection.</p></div></div></div></div><div class=sect1><h2 id=_wrapping_up>Wrapping Up!</h2><div class=sectionbody><div class=paragraph><p>In this post, we delved a bit deeper into updating entities using Spring Data and Neo4j. A <a href=https://jmhreif.com/blog/2023/sdn-cypher-update-entity/ target=_blank rel=noopener>previous blog post on the topic</a> outlined some examples for that use case at the time (microservices), but I learned about a few more options after working on the <a href=https://graphacademy.neo4j.com/courses/app-spring-data/ target=_blank rel=noopener>GraphAcademy Spring Data Neo4j course</a>. These options included custom Cypher statements and projections.</p></div><div class=paragraph><p>There are still other pieces of the puzzle to explore and integrate, such as optimistic locking (with the <code>@Version</code> field) and custom repository implementations for extending repositories (e.g. to combine <code>Neo4jRepository&lt;></code>, <code>Neo4jTemplate</code>, and/or <code>Neo4jClient</code> levels of abstraction), but we will save those for a future blog post. Happy coding!</p></div></div></div><div class=sect1><h2 id=_resources>Resources</h2><div class=sectionbody><div class=ulist><ul><li><p>Code: <a href=https://github.com/JMHReif/sdn-update-entity-round2 target=_blank rel=noopener>sdn-update-entity-round2</a></p></li><li><p>Blog post: <a href=https://jmhreif.com/blog/2023/sdn-cypher-update-entity/ target=_blank rel=noopener>previous SDN update article</a></p></li><li><p>Graphacademy course (free, online, self-paced): <a href=https://graphacademy.neo4j.com/courses/app-spring-data/ target=_blank rel=noopener>Spring Data Neo4j</a></p></li><li><p>Documentation: <a href=https://docs.spring.io/spring-data/neo4j/reference/projections/sdn-projections.html#projections.sdn.persistence target=_blank rel=noopener>SDN projection persistence</a></p></li><li><p>Documentation: <a href=https://docs.spring.io/spring-data/neo4j/reference/repositories/custom-implementations.html target=_blank rel=noopener>SDN custom repository implementations</a></p></li></ul></div></div></div><ul class=pa0><li class="list di"><a href=/tags/neo4j/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">neo4j</a></li><li class="list di"><a href=/tags/spring/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">spring</a></li><li class="list di"><a href=/tags/update/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">update</a></li><li class="list di"><a href=/tags/application/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">application</a></li><li class="list di"><a href=/tags/development/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">development</a></li></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links"><p class="f5 b mb3">Related</p><ul class="pa0 list"><li class=mb2><a href=/blog/2021/migrate-sdn-part3/>Winter to Spring: Migrating from Spring Data Neo4j 5 to 6, Part 3</a></li><li class=mb2><a href=/blog/2021/migrate-sdn-part2/>Winter to Spring: Migrating from Spring Data Neo4j 5 to 6, Part 2</a></li><li class=mb2><a href=/blog/2021/migrate-sdn-part1/>Winter to Spring: Migrating from Spring Data Neo4j 5 to 6, Part 1</a></li><li class=mb2><a href=/blog/2021/create-data-marvel-sdn/>Create a Data Marvel with Spring Data Neo4j</a></li><li class=mb2><a href=/blog/2024/gear-up-nodes-2024/>Gear Up for NODES 2024: What to Know</a></li><li class=mb2><a href=/blog/2024/nodes-2024-schedule/>Press the Easy Button: Organize a Virtual Conference Schedule with a Graph Database</a></li><li class=mb2><a href=/blog/2024/spring-ai-update-10/>Spring AI Upgrade: Changes for Applications from 0.8 to 1.0</a></li><li class=mb2><a href=/blog/2024/kubernetes-neo4j/>How to Run Neo4j on Kubernetes</a></li><li class=mb2><a href=/blog/2024/spring-ai-starter-kit/>GenAI Starter Kit: Everything You Need to Build an Application with Spring AI in Java</a></li><li class=mb2><a href=/blog/2024/spring-ai-app/>Spring AI: How to Write GenAI Applications with Java</a></li><li class=mb2><a href=/blog/2024/cypher-property-data-types/>Cypher Sleuthing: How to Get Data Types of Properties in Neo4j</a></li><li class=mb2><a href=/blog/2022/microservices-level10/>Journeys in Java, Level 10: Service Discovery with Eureka</a></li><li class=mb2><a href=/blog/2022/microservices-level9/>Journeys in Java, Level 9: Docker compose all the things</a></li><li class=mb2><a href=/blog/2022/microservices-level8/>Journeys in Java, Level 8: Add MongoDB to Spring Cloud Config</a></li><li class=mb2><a href=/blog/2022/microservices-level7/>Journeys in Java, Level 7: Externalize Microservice Configuration</a></li></ul></div></aside></article></main><footer class="bg-dark-green bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://jmhreif.com/>&copy; Jennifer Reif 2025</a><div><div class=ananke-socials><a href=https://twitter.com/JMHReif target=_blank rel=noopener class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" aria-label="follow on Twitter——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://github.com/JMHReif target=_blank rel=noopener class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" aria-label="follow on GitHub——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://www.linkedin.com/in/jmhreif/ target=_blank rel=noopener class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" aria-label="follow on LinkedIn——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://jmhreif.com/index.xml target=_blank rel=noopener class="rss ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="RSS link" aria-label="follow on RSS——Opens in a new window"><span class=icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path id="scale" d="M4 4.44v2.83c7.03.0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9.0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://jmhreif.podbean.com/ target=_blank rel=noopener class="podcast ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="podcast link" aria-label="follow on podcast——Opens in a new window"><span class=icon><svg width="1200pt" height="1200pt" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg"><path d="m6e2 62.484c-296.48.0-537.52 241.03-537.52 537.52s240.98 537.52 537.52 537.52c296.48.0 537.52-240.98 537.52-537.52.0-296.48-241.03-537.52-537.52-537.52zm-155.02 305.02c0-85.5 69.516-155.02 155.02-155.02S755.02 282 755.02 367.504v234.98c0 85.5-69.516 155.02-155.02 155.02s-155.02-69.516-155.02-155.02zm192.52 516.52v66c0 20.484-17.016 37.5-37.5 37.5s-37.5-17.016-37.5-37.5v-66C408 865.508 288 734.024 288 574.504c0-20.484 17.016-37.5 37.5-37.5s37.5 17.016 37.5 37.5c0 130.5 106.5 237 237 237s237-106.5 237-237c0-20.484 17.016-37.5 37.5-37.5s37.5 17.016 37.5 37.5c0 159.52-120 291-274.5 309.52z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a></div></div></div></footer></body></html>