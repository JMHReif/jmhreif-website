<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Journeys in Java, Level 10: Service Discovery with Eureka | Jennifer Reif</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Photo credit Gaining complexity in a microservices system certainly isn’t for the faint of heart (though neither is complexity in monoliths!). When there are many services that need to communicate with one another, we might need to coordinate multiple services communicating with multiple other services. We also might code for varying environments such as local, development server, or the cloud.
How do services know where to find one another? How can we avoid problems when a service is unavailable?"><meta name=generator content="Hugo 0.119.0"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><link rel=canonical href=https://jmhreif.com/blog/microservices-level10/><meta property="og:title" content="Journeys in Java, Level 10: Service Discovery with Eureka"><meta property="og:description" content="Photo credit Gaining complexity in a microservices system certainly isn’t for the faint of heart (though neither is complexity in monoliths!). When there are many services that need to communicate with one another, we might need to coordinate multiple services communicating with multiple other services. We also might code for varying environments such as local, development server, or the cloud.
How do services know where to find one another? How can we avoid problems when a service is unavailable?"><meta property="og:type" content="article"><meta property="og:url" content="https://jmhreif.com/blog/microservices-level10/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-11-01T09:00:00-06:00"><meta property="article:modified_time" content="2022-11-01T09:00:00-06:00"><meta itemprop=name content="Journeys in Java, Level 10: Service Discovery with Eureka"><meta itemprop=description content="Photo credit Gaining complexity in a microservices system certainly isn’t for the faint of heart (though neither is complexity in monoliths!). When there are many services that need to communicate with one another, we might need to coordinate multiple services communicating with multiple other services. We also might code for varying environments such as local, development server, or the cloud.
How do services know where to find one another? How can we avoid problems when a service is unavailable?"><meta itemprop=datePublished content="2022-11-01T09:00:00-06:00"><meta itemprop=dateModified content="2022-11-01T09:00:00-06:00"><meta itemprop=wordCount content="2096"><meta itemprop=keywords content="java,microservices,applications,development,spring-boot,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Journeys in Java, Level 10: Service Discovery with Eureka"><meta name=twitter:description content="Photo credit Gaining complexity in a microservices system certainly isn’t for the faint of heart (though neither is complexity in monoliths!). When there are many services that need to communicate with one another, we might need to coordinate multiple services communicating with multiple other services. We also might code for varying environments such as local, development server, or the cloud.
How do services know where to find one another? How can we avoid problems when a service is unavailable?"></head><body class="ma0 avenir bg-near-white"><header class="cover bg-top" style=background-image:url(https://jmhreif.com/img/microservices-lvl10/unsplash-person-high-bridge.jpeg)><div class=bg-black-60><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Jennifer Reif</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/ title="Home page">Home</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/about/ title="About page">About</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/blog/ title="Blog page">Blog</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/abstracts/ title="Abstracts page">Abstracts</a></li></ul><div class=ananke-socials><a href=https://twitter.com/JMHReif target=_blank rel=noopener class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" aria-label="follow on Twitter——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://github.com/JMHReif target=_blank rel=noopener class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" aria-label="follow on GitHub——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://www.linkedin.com/in/jmhreif/ target=_blank rel=noopener class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" aria-label="follow on LinkedIn——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://jmhreif.com/index.xml target=_blank rel=noopener class="rss ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="RSS link" aria-label="follow on RSS——Opens in a new window"><span class=icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path id="scale" d="M4 4.44v2.83c7.03.0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9.0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://jmhreif.podbean.com/ target=_blank rel=noopener class="podcast ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="podcast link" aria-label="follow on podcast——Opens in a new window">podcast
<span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a></div></div></div></nav><div class="tc-l pv6 ph3 ph4-ns"></div></div></header><main class=pb7 role=main><article class="flex-l flex-wrap justify-between mw8 center ph3"><header class="mt4 w-100"><aside class="instapaper_ignoref b helvetica tracked ttu">Blog</aside><div id=sharing class="mt3 ananke-socials"><a href="https://twitter.com/intent/tweet?url=https://jmhreif.com/blog/microservices-level10/&amp;text=Journeys%20in%20Java,%20Level%2010:%20Service%20Discovery%20with%20Eureka" class="ananke-social-link twitter no-underline" aria-label="share on Twitter"><span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://jmhreif.com/blog/microservices-level10/&amp;title=Journeys%20in%20Java,%20Level%2010:%20Service%20Discovery%20with%20Eureka" class="ananke-social-link linkedin no-underline" aria-label="share on LinkedIn"><span class=icon><svg style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a></div><h1 class="f1 athelas mt3 mb1">Journeys in Java, Level 10: Service Discovery with Eureka</h1><time class="f6 mv4 dib tracked" datetime=2022-11-01T09:00:00-06:00>November 1, 2022</time>
<span class="f6 mv4 dib tracked">- 10 minutes read</span>
<span class="f6 mv4 dib tracked">- 2096 words</span></header><div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><div class=paragraph><small><i><a href="https://unsplash.com/photos/BReigPd7XnQ?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditShareLink">Photo credit</a></i></small></div><div class=paragraph><p>Gaining complexity in a microservices system certainly isn’t for the faint of heart (though neither is complexity in monoliths!). When there are many services that need to communicate with one another, we might need to coordinate multiple services communicating with multiple other services. We also might code for varying environments such as local, development server, or the cloud.</p></div><div class=paragraph><p>How do services know where to find one another? How can we avoid problems when a service is unavailable? How do we handle requests when we scale up or down certain parts of our system?</p></div><div class=paragraph><p>This is where something like Spring Cloud Netflix Eureka comes into play. Eureka is a service discovery project that helps services interact with one another without hardwiring in instance-specific or environment-dependent details.</p></div><div class=sect1><h2 id=_architecture>Architecture</h2><div class=sectionbody><div class=paragraph><p>Our microservices system has come a long way from <a href=https://jmhreif.com/blog/microservices-level1/ target=_blank rel=noopener>two local applications communicating over REST</a> to a more intricate web containing multiple data stores, utility services, APIs, and client applications. Last <a href=https://jmhreif.com/blog/microservices-level9/ target=_blank rel=noopener>blog post</a>, we migrated any standalone services into Docker Compose so that it could orchestrate startup and shutdown as a unit.</p></div><div class=paragraph><p>In this post, we will add a service discovery component, so that services can find and talk to one another without hard-coding host and port information into applications or environments.</p></div><div class=paragraph><p>Updated architecture:</p></div><div class=imageblock><div class=content><img src=/img/microservices-lvl10/microservices-level10.png alt="microservices level10"></div></div><div class=paragraph><p>Docker Compose manages most of the services (in dark gray area), with each containerized service encompassed in a light gray box. Neo4j is the only component managed externally with Neo4j’s database-as-a-service (Aura). Interactions between services are shown using arrows, and the types of data objects passed to numbered services (1-4) are depicted next to each.</p></div></div></div><div class=sect1><h2 id=_spring_cloud_netflix_eureka>Spring Cloud Netflix Eureka</h2><div class=sectionbody><div class=paragraph><p>Spring Cloud Netflix originally contained a few open-sourced projects from Netflix, <a href=https://www.interviewgrid.com/interview_questions/spring_cloud/spring_cloud_netflix target=_blank rel=noopener>including Eureka, Zuul, Hystrix, and Ribbon</a>. Since then, most of those have been migrated into other Spring projects, except for Eureka.</p></div><div class=paragraph><p>Eureka handles service registry and discovery. A Eureka server is a central place for services to register themselves. Eureka clients register with the server and are able to find and communicate with other services on the registry without referencing hostname and port information within the service itself.</p></div></div></div><div class=sect1><h2 id=_config_eureka_architecture_decision>Config + Eureka Architecture Decision</h2><div class=sectionbody><div class=paragraph><p>I had to make a decision on architecture when using Spring Cloud Config and Eureka together in a microservices system. There are a couple of options:</p></div><div class="olist arabic"><ol class=arabic><li><p>Config-first approach. Applications (services1-4) will reach out to config server first before gathering up other properties. In this approach, the config server does not register with Eureka.</p></li><li><p>Discovery-first approach. Applications will register with Eureka before connecting to config and gathering properties. In this approach, config server becomes a Eureka client and registers with it.</p></li></ol></div><div class=paragraph><p>There is an <a href=https://medium.com/@athulravindran/spring-cloud-config-server-discovery-first-vs-config-first-72cc6a56f471 target=_blank rel=noopener>excellent blog post</a> that provides a clear explanation of each, along with pros and cons. I’d highly encourage checking that out!</p></div><div class=paragraph><p>I opted for the config-first approach because there is already a bit of delay starting up applications in Docker Compose (see <a href=https://jmhreif.com/blog/microservices-level9/ target=_blank rel=noopener>blog post detailing this</a>). Going with discovery-first would mean an extra step in the chain before applications could connect to config and contact databases. Since I didn’t want to slow this step down any further, I decided not to register the config server app with Eureka, leaving it separate.</p></div><div class=paragraph><p>Without further ado, let’s start coding!</p></div></div></div><div class=sect1><h2 id=_applications_eureka_server>Applications - Eureka server</h2><div class=sectionbody><div class=paragraph><p>We will use the Spring Initializr at <a href=https://start.spring.io/ target=_blank rel=noopener>start.spring.io</a> to set up the outline for our Eureka server application.</p></div><div class=paragraph><p>On the form, we choose Maven for the <code>Project</code>, then leave <code>Language</code> and <code>Spring Boot</code> version fields defaulted. Under the <code>Project Metadata</code> section, I updated the group name for my personal projects, but you are welcome to leave it defaulted. I named the artifact <code>eureka-server</code>, though naming is up to you, as long as we map it properly where needed. All other fields in this section can remain as they are. Under the <code>Dependencies</code> section, we need only <code>Eureka Server</code>. Finally, we can click the <code>Generate</code> button at the bottom to download the project.</p></div><div class=imageblock><div class=content><img src=/img/microservices-lvl10/springio-eurekaserver.png alt="springio eurekaserver"></div></div><div class=paragraph><p><em>Note: the Spring Initializr displays in dark mode or light mode via the moon or sun icons in the right column of the page.</em></p></div><div class=paragraph><p>The project will download as a zip, so we can unzip it and move it to our project folder with the other services. Open the project in your favorite IDE and let’s get coding!</p></div><div class=paragraph><p>The <code>pom.xml</code> contains the dependencies and software versions we set up on the Spring Initializr, so we can move to the <code>application.properties</code> file in the <code>src/main/resources</code> folder.</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-text data-lang=text>server.port=8761
eureka.client.register-with-eureka=false
eureka.client.fetch-registry=false</code></pre></div></div><div class=paragraph><p>We need to specify a port number for this application to use so that its traffic doesn’t conflict with our other services. The default port for Spring Cloud Eureka server is <code>8761</code>, so we will use that. Next, we don’t need to register the server itself with Eureka (useful in systems with multiple Eureka servers), so we will set the <code>eureka.client.register-with-eureka</code> value to <code>false</code>. The last property is set to <code>false</code> because we also don’t need this server to pull the registry from other sources (like other Eureka servers). A <a href=https://stackoverflow.com/questions/57639611/what-is-the-use-of-fetchregistry-property-in-eureka-server target=_blank rel=noopener>StackOverflow question and answer</a> addresses these settings well.</p></div><div class=paragraph><p>In the <code>EurekaServerApplication</code> class, we only need to add the annotation <code>@EnableEurekaServer</code> to set this up as a Eureka server.</p></div><div class=paragraph><p>Let’s test this locally by starting the application in our IDE and navigating a web browser window to <code>localhost:8761</code>. This should show us a page like the one below, which gives details about the server and a section for <code>Instances currently registered with Eureka</code>. Since we haven’t connected any other services with Eureka, we don’t have any services registered with the server.</p></div><div class=imageblock><div class=content><img src=/img/microservices-lvl10/eureka-server-test.png alt="eureka server test"></div></div><div class=paragraph><p>That’s it for the server, so let’s start retrofitting our other services as Eureka clients.</p></div></div></div><div class=sect1><h2 id=_applications_service1>Applications - Service1</h2><div class=sectionbody><div class=paragraph><p>We don’t have many changes to add for Spring Cloud Eureka. Starting in the <code>pom.xml</code>, we need to add a dependency.</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-xml data-lang=xml>&lt;dependency&gt;
	&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
	&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre></div></div><div class=paragraph><p>This dependency enables the application as a Eureka client. Most recommendations would also have us adding an annotation like <code>@EnableEurekaClient</code> (Eureka-specific) or <code>@EnableDiscoveryClient</code> (project-agnostic) to the main application class. However, that is not a necessary requirement, as it is defaulted to enabling this functionality when you add the dependency to the <code>pom.xml</code>.</p></div><div class=paragraph><p>To run the service locally, we will also need to add a property to the <code>application.properties</code> file.</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-text data-lang=text>eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka</code></pre></div></div><div class=paragraph><p>This tells the application where to look for the Eureka server. We will move this property to the config server file for this application, so we can comment this one out when we test everything together. However, for testing a siloed application, you will need it enabled here.</p></div><div class=paragraph><p>Let’s start on changes to service2, which interacts with service1.</p></div></div></div><div class=sect1><h2 id=_applications_service2>Applications - Service2</h2><div class=sectionbody><div class=paragraph><p>Just like with service1, we need to add the Eureka client dependency to service2’s <code>pom.xml</code> to enable service discovery.</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-xml data-lang=xml>&lt;dependency&gt;
	&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
	&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
	&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
	&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre></div></div><div class=paragraph><p>We also want to have this application use Spring Cloud Config for referencing the Eureka server, so we can retrofit that by adding the dependency. We will walk through the config file changes in a bit.</p></div><div class=paragraph><p>Again, if we test locally, we would also need to add the following property to the <code>application.properties</code> file.</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-text data-lang=text>eureka.client.serviceUrl.defaultZone=http://localhost:8761/eureka</code></pre></div></div><div class=paragraph><p>Since we will test everything together, it is commented out in the application for now. Instead, we will add a properties file for Spring Cloud Config to host, similar to our other services (next section).</p></div><div class=paragraph><p>Next, we need to make some adjustments to the the main application class to utilize Eureka over previously-defined hostname and port locations.</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-java data-lang=java>public class Service2Application {
	public static void main(String[] args) {
		SpringApplication.run(Service2Application.class, args);
	}

	@Bean
	@LoadBalanced
	WebClient.Builder createLoadBalancedBuilder() { return WebClient.builder(); }

	@Bean
	WebClient client(WebClient.Builder builder) { return builder.baseUrl(&#34;http://mongo-client&#34;).build(); }
}</code></pre></div></div><div class=paragraph><p>If you <a href=https://github.com/JMHReif/microservices-level9/blob/main/service2/src/main/java/com/jmhreif/service2/Service2Application.java#L19 target=_blank rel=noopener>compare the code to the previous version</a> (Level 9), you will see there are some changes.</p></div><div class=paragraph><p>First, we have removed the <code>@Value</code> annotation and <code>hostname</code> variable. When we originally implemented the <code>@Value</code>, we did so for dynamic environments - running a local versus containerized application. Eureka lets calling applications reference an application name, and it will map the hostname/port details behind-the-scenes, no matter where the application is running. This is where we see the <code>mongo-client</code> referenced in the second <code>@Bean</code> definition (<a href=https://github.com/JMHReif/microservices-level10/blob/main/service2/src/main/java/com/jmhreif/service2/Service2Application.java#L29 target=_blank rel=noopener>11th line of above code</a>).</p></div><div class=paragraph><p>We also need to create a load-balanced bean (only required when using Eureka). Step-by-step, I created a <code>WebClient.Builder</code> bean, load balanced it with the <code>@LoadBalanced</code> annotation, then used that to create the actual <code>WebClient</code> bean that gets injected for use in method calls (<a href=https://github.com/JMHReif/microservices-level10/blob/main/service2/src/main/java/com/jmhreif/service2/Service2Application.java#L36 target=_blank rel=noopener>in the BookController class</a>).</p></div></div></div><div class=sect1><h2 id=_applications_service3_and_service4>Applications - Service3 and Service4</h2><div class=sectionbody><div class=paragraph><p>Next, we need to add our other services to Eureka using the steps below.</p></div><div class="olist arabic"><ol class=arabic><li><p>Add the dependency to each <code>pom.xml</code> file.</p></li><li><p>For local testing, add the commented out property in the <code>application.properties</code> file.</p></li></ol></div><div class=paragraph><p>Now let’s add the Eureka property to the Spring Cloud Config files for our applications!</p></div></div></div><div class=sect1><h2 id=_spring_cloud_config>Spring Cloud Config</h2><div class=sectionbody><div class=paragraph><p>For each config file the server hosts, we will need to add the following:</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-text data-lang=text>eureka:
  client:
    serviceUrl:
      defaultZone: http://goodreads-eureka:8761/eureka</code></pre></div></div><div class=paragraph><p>This tells the application where to look so it can register with Eureka. Full sample code for each config file is located in the <a href=https://github.com/JMHReif/microservices-level10/tree/main/microservices-java-config target=_blank rel=noopener>related Github repository folder</a>.</p></div><div class=paragraph><p>We also need to create a whole new config file for service2 to use the config server.</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-text data-lang=text>spring:
  application:
    name: goodreads-client

eureka:
  client:
    serviceUrl:
      defaultZone: http://goodreads-eureka:8761/eureka</code></pre></div></div><div class=paragraph><p>A sample is provided on the <a href=https://github.com/JMHReif/microservices-level10/blob/main/microservices-java-config/goodreads-client-docker.yaml target=_blank rel=noopener>Github repository</a>, but this file is created in a local repository initialized with <a href=https://git-scm.com/ target=_blank rel=noopener>git</a>, and then referenced in the <a href=https://github.com/JMHReif/microservices-level10/blob/main/config-server/src/main/resources/application.properties#L2 target=_blank rel=noopener>config server properties file</a> for that project to serve up. More information on that is in a <a href=https://jmhreif.com/blog/microservices-level7/ target=_blank rel=noopener>previous blog post</a>.</p></div><div class=paragraph><p>Let’s make a few changes to the <code>docker-compose.yml</code>!</p></div></div></div><div class=sect1><h2 id=_docker_compose_yml>docker-compose.yml</h2><div class=sectionbody><div class=paragraph><p>We need to remove the dynamic environment property for service2 and to add the Eureka server project for Docker Compose to manage.</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-yaml data-lang=yaml>goodreads-svc2:
	#other properties...
    environment:
      - SPRING_APPLICATION_NAME=goodreads-client
      - SPRING_CONFIG_IMPORT=configserver:http://goodreads-config:8888
      - SPRING_PROFILES_ACTIVE=docker</code></pre></div></div><div class=paragraph><p>We removed the <code>BACKEND_HOSTNAME</code> we see in the <a href=https://github.com/JMHReif/microservices-level9/blob/main/docker-compose.yml#L57 target=_blank rel=noopener>previous version of the code</a>, and instead replaced it with <a href=https://github.com/JMHReif/microservices-level10/blob/main/docker-compose.yml#L57 target=_blank rel=noopener>environment variables</a> for application name, config server location, and spring profiles like we see in our other services.</p></div><div class=paragraph><p>Next, we need to add our Eureka server application to the compose file.</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-yaml data-lang=yaml>goodreads-eureka:
    container_name: goodreads-eureka
    image: jmreif/goodreads-eureka
    ports:
      - &#34;8761:8761&#34;
    environment:
      - EUREKA_CLIENT_REGISTER-WITH-EUREKA=false
      - EUREKA_CLIENT_FETCH-REGISTRY=false
    volumes:
      - $HOME/Projects/docker/goodreads/config-server/logs:/logs
    networks:
      - goodreads</code></pre></div></div><div class=paragraph><p>For our last step, we need to build all of the updated applications and create the Docker images. To do that we can execute the following commands from the project folder:</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-shell data-lang=shell>cd service1
mvn clean package -DskipTests=true
cd ../service2
mvn clean package -DskipTests=true
cd ../service3
mvn clean package -DskipTests=true
cd ../service4
mvn clean package -DskipTests=true
cd ../eureka-server
mvn clean package</code></pre></div></div><div class=paragraph><p><em>*Note:* The Docker Compose file is using my pre-built images with Apple silicon architecture. If your machine has a different chip, you will need to do one of the following: 1) utilize the <code>build</code> option in the docker-compose.yml file (comment out <code>image</code> option), 2) create your own Docker images and publish to DockerHub (plus modify the <code>docker-compose.yml</code> file <code>image</code> options).</em></p></div></div></div><div class=sect1><h2 id=_put_it_to_the_test>Put it to the test!</h2><div class=sectionbody><div class=paragraph><p>We can run our system with the same command we have been using.</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-shell data-lang=shell>docker-compose up -d</code></pre></div></div><div class=paragraph><p><em>*Note:* If you are building local images with the <code>build</code> field in docker-compose.yml, then use the command <code>docker-compose up -d --build</code>. This will build the Docker containers each time on startup from the directories.</em></p></div><div class=paragraph><p>Next, we can test all of our endpoints.</p></div><div class=ulist><ul><li><p>Goodreads-config (mongo): command line with <code>curl localhost:8888/mongo-client/docker</code>.</p></li><li><p>Goodreads-eureka: web browser with <code>localhost:8761</code> and note the applications (might take a few minutes for everything to register).</p></li><li><p>Goodreads-svc1: command line with <code>curl localhost:8081/db</code>, <code>curl localhost:8081/db/books</code>, and <code>curl localhost:8081/db/book/623a1d969ff4341c13cbcc6b</code>.</p></li><li><p>Goodreads-svc2: command line with <code>curl localhost:8080/goodreads</code> and <code>curl localhost:8080/goodreads/books</code>.</p></li><li><p>Goodreads-svc3: <code>curl localhost:8082/db</code>, <code>curl localhost:8082/db/authors</code>, and <code>curl localhost:8082/db/author/623a48c1b6575ea3e899b164</code>.</p></li><li><p>Goodreads-config (neo4j): command line with <code>curl localhost:8888/neo4j-client/docker</code>.</p></li><li><p>Neo4j database: ensure <a href=https://console.neo4j.io/ target=_blank rel=noopener>AuraDB instance is running</a> (free instances are automatically paused after 3 days).</p></li><li><p>Goodreads-svc4: <code>curl localhost:8083/neo</code>, <code>curl localhost:8083/neo/reviews</code>, and <code>curl localhost:8083/neo/reviews/178186</code> or web browser with only URL.</p></li></ul></div><div class=imageblock><div class=content><img src=/img/microservices-lvl10/eureka-server-final.png alt="eureka server final"></div></div><div class=paragraph><p>Bring everything back down again with the below command.</p></div><div class=listingblock><div class=content><pre class=highlight><code class=language-shell data-lang=shell>docker-compose down</code></pre></div></div></div></div><div class=sect1><h2 id=_wrapping_up>Wrapping up!</h2><div class=sectionbody><div class=paragraph><p>In this iteration of the project, we integrated service discovery through the Spring Cloud Netflix Eureka project. We created a Eureka server project, and then retrofitted our other services as Eureka clients with an added dependency.</p></div><div class=paragraph><p>Finally, we integrated the new Eureka server project to Docker Compose and updated some of the options for the other services. We tested all of our changes by spinning up the entire microservices system and checking each of our endpoints.</p></div><div class=paragraph><p>Keep following along in this journey to find out what comes next (or <a href=https://jmhreif.com/blog/ target=_blank rel=noopener>review previous iterations</a> to see what we have accomplished). Happy coding!</p></div></div></div><div class=sect1><h2 id=_resources>Resources</h2><div class=sectionbody><div class=ulist><ul><li><p>Github: <a href=https://github.com/JMHReif/microservices-level10 target=_blank rel=noopener>microservices-level10</a> repository</p></li><li><p>Blog post: <a href=https://www.baeldung.com/spring-cloud-netflix-eureka target=_blank rel=noopener>Baeldung’s guide to Spring Cloud Netflix Eureka</a></p></li><li><p>Blog post: <a href=https://medium.com/@athulravindran/spring-cloud-config-server-discovery-first-vs-config-first-72cc6a56f471 target=_blank rel=noopener>Config First vs. Discovery First</a></p></li><li><p>Documentation: <a href=https://spring.io/projects/spring-cloud-netflix target=_blank rel=noopener>Spring Cloud Netflix</a></p></li><li><p>Interview Questions: <a href=https://www.interviewgrid.com/interview_questions/spring_cloud/spring_cloud_netflix target=_blank rel=noopener>What is Spring Cloud Netflix</a></p></li></ul></div></div></div><ul class=pa0><li class="list di"><a href=/tags/java/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">java</a></li><li class="list di"><a href=/tags/microservices/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">microservices</a></li><li class="list di"><a href=/tags/applications/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">applications</a></li><li class="list di"><a href=/tags/development/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">development</a></li><li class="list di"><a href=/tags/spring-boot/ class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">spring-boot</a></li></ul><div class="mt6 instapaper_ignoref"></div></div><aside class="w-30-l mt6-l"><div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links"><p class="f5 b mb3">Related</p><ul class="pa0 list"><li class=mb2><a href=/blog/microservices-level9/>Journeys in Java, Level 9: Docker compose all the things</a></li><li class=mb2><a href=/blog/microservices-level8/>Journeys in Java, Level 8: Add MongoDB to Spring Cloud Config</a></li><li class=mb2><a href=/blog/microservices-level7/>Journeys in Java, Level 7: Externalize Microservice Configuration</a></li><li class=mb2><a href=/blog/microservices-level6/>Journeys in Java, Level 6: Build a Microservice with Neo4j</a></li><li class=mb2><a href=/blog/microservices-level5/>Journeys in Java, Level 5: Manage Microservices with Docker Compose</a></li><li class=mb2><a href=/blog/microservices-level4/>Journeys in Java, Level 4: Building an Empire of Microservices</a></li><li class=mb2><a href=/blog/microservices-level3/>Journeys in Java, Level 3: Building an Empire of Microservices</a></li><li class=mb2><a href=/blog/microservices-level2/>Journeys in Java, Level 2: Building an Empire of Microservices</a></li><li class=mb2><a href=/blog/microservices-level1/>Journeys in Java, Level 1: Building an Empire of Microservices</a></li><li class=mb2><a href=/blog/migrate-sdn-part3/>Winter to Spring: Migrating from Spring Data Neo4j 5 to 6, Part 3</a></li><li class=mb2><a href=/blog/migrate-sdn-part2/>Winter to Spring: Migrating from Spring Data Neo4j 5 to 6, Part 2</a></li><li class=mb2><a href=/blog/migrate-sdn-part1/>Winter to Spring: Migrating from Spring Data Neo4j 5 to 6, Part 1</a></li><li class=mb2><a href=/blog/create-data-marvel-sdn/>Create a Data Marvel with Spring Data Neo4j</a></li><li class=mb2><a href=/blog/20210802-create-data-marvel-sdn/>Create a Data Marvel with Spring Data Neo4j</a></li><li class=mb2><a href=/blog/java17-graph-explore/>Java 17: Explore the newly-released Java version in a graph database!</a></li></ul></div></aside></article></main><footer class="bg-dark-green bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://jmhreif.com/>&copy; Jennifer Reif 2024</a><div><div class=ananke-socials><a href=https://twitter.com/JMHReif target=_blank rel=noopener class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" aria-label="follow on Twitter——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://github.com/JMHReif target=_blank rel=noopener class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" aria-label="follow on GitHub——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M256 32C132.3 32 32 134.8 32 261.7c0 101.5 64.2 187.5 153.2 217.9 11.2 2.1 15.3-5 15.3-11.1.0-5.5-.2-19.9-.3-39.1-62.3 13.9-75.5-30.8-75.5-30.8-10.2-26.5-24.9-33.6-24.9-33.6-20.3-14.3 1.5-14 1.5-14 22.5 1.6 34.3 23.7 34.3 23.7 20 35.1 52.4 25 65.2 19.1 2-14.8 7.8-25 14.2-30.7-49.7-5.8-102-25.5-102-113.5.0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8.0.0 18.8-6.2 61.6 23.5 17.9-5.1 37-7.6 56.1-7.7 19 .1 38.2 2.6 56.1 7.7 42.8-29.7 61.5-23.5 61.5-23.5 12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6.0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5.0 30.7-.3 55.5-.3 63 0 6.1 4 13.3 15.4 11C415.9 449.1 480 363.1 480 261.7 480 134.8 379.7 32 256 32z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://www.linkedin.com/in/jmhreif/ target=_blank rel=noopener class="linkedin ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" aria-label="follow on LinkedIn——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 65 65" viewBox="0 0 65 65" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M50.837 48.137V36.425c0-6.275-3.35-9.195-7.816-9.195-3.604.0-5.219 1.983-6.119 3.374V27.71h-6.79c.09 1.917.0 20.427.0 20.427h6.79V36.729c0-.609.044-1.219.224-1.655.49-1.22 1.607-2.483 3.482-2.483 2.458.0 3.44 1.873 3.44 4.618v10.929H50.837zM22.959 24.922c2.367.0 3.842-1.57 3.842-3.531-.044-2.003-1.475-3.528-3.797-3.528s-3.841 1.524-3.841 3.528c0 1.961 1.474 3.531 3.753 3.531H22.959zM34 64C17.432 64 4 50.568 4 34 4 17.431 17.432 4 34 4s30 13.431 30 30c0 16.568-13.432 30-30 30zM26.354 48.137V27.71h-6.789v20.427h6.789z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://jmhreif.com/index.xml target=_blank rel=noopener class="rss ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="RSS link" aria-label="follow on RSS——Opens in a new window"><span class=icon><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"/><path id="scale" d="M4 4.44v2.83c7.03.0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9.0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a><a href=https://jmhreif.podbean.com/ target=_blank rel=noopener class="podcast ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="podcast link" aria-label="follow on podcast——Opens in a new window">podcast
<span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a></div></div></div></footer></body></html>